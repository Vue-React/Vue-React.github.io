{"version":3,"file":"js/229.1f750b5b.js","mappings":"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","sources":["webpack://vue-catalog/./src/views/EditView.vue","webpack://vue-catalog/./src/components/FormEdit.vue","webpack://vue-catalog/./src/data/languages/notifications/FormEditData.js","webpack://vue-catalog/./src/components/FormEdit.vue?ced0","webpack://vue-catalog/./src/data/languages/EditViewData.js","webpack://vue-catalog/./src/views/EditView.vue?eb6a"],"sourcesContent":["<template>\n  <div>\n    <h1>{{ insert[lang].header }}</h1>\n\n    <div v-if=\"$store.state.appIsStarting\" class=\"loader1\"></div>\n    <!-- <div v-if=\"$store.state.isAuthLoading\" class=\"loader1\"></div> -->\n    <div v-else>\n      <div v-if=\"!$store.state.isAuth\">\n        <login-form/>\n      </div>\n      <div v-else>\n        <form-edit :insert=\"insert[lang]\"/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LoginForm from '@/components/LoginForm'\nimport FormEdit from '@/components/FormEdit.vue'\nimport insert from '@/data/languages/EditViewData.js'\nimport useLang from '@/hooks/useLang'\nimport { define } from '@/data/globals.js'\n\nexport default {\n  // name: 'HomeView',\n  components: { LoginForm, FormEdit },\n  data() {\n    return {\n      name: 'EditView',\n      // languages: languages,\n      // insert: languages.en,\n    }\n  },\n  // methods: {\n  //   async login() {\n  //     // // await this.$store.dispatch('logout')\n  //     // тут сделать авторизацию. Если ок - ставим state.isAuth = true\n  //     await this.$store.commit('Login')\n  //     this.$router.push('/')\n  //   },\n  // },\n  // Composition API\n  setup() {\n    const { lang } = useLang('EditView')\n\n    return { define, lang, insert }\n  }\n}\n</script>\n","<template>\r\n    <!-- {{ $store.state.updProd.id }} / {{ $store.state.updProdFreeze }} / {{ $store.state.isProdsLoading }}<br> -->\r\n\r\n    <!-- <div v-if=\"$store.state.isProdsLoading\" class=\"loader1\"></div> -->\r\n    <div v-if=\"$store.state.updProdFreeze\" class=\"loader1\"></div>\r\n    <!-- <div v-if=\"$store.state.isProdsLoading || $store.state.updProdFreeze\" class=\"loader1\"></div> -->\r\n    <div v-else>\r\n        <!-- <div v-if=\"$store.state.updProd.id > 0\"> -->\r\n        <div v-if=\"!$store.state.updProd.brand || !$store.state.updProd.model\">\r\n        <!-- <div v-if=\"!$store.state.updProd.id\"> -->\r\n        <!-- <div v-if=\"!$store.state.updProd.id && $store.state.updProdStatus == 'notfound' \"> -->\r\n            ID: <b>{{ $route.params.id }}</b><br>\r\n            <div v-html=\"insert.notFound\"></div>\r\n        </div>\r\n        <div v-else>\r\n            ID: <b>{{ $route.params.id }}</b>\r\n            <form @submit.prevent class=\"mt-10\">\r\n                {{ insert.brandLabel }}:\r\n                <div class=\"form-group mb-10\">\r\n                    <input\r\n                        :class=\"['form-control w540', { notfilled: isFilled1 }]\"\r\n                        :placeholder=\"insert.brandPlaceholder\"\r\n                        :value=\"$store.state.updProd.brand\"\r\n                        @input=\"inputBrand\"\r\n                    />\r\n                </div>\r\n                {{ insert.modelLabel }}:\r\n                <div class=\"form-group mb-10\">\r\n                    <input\r\n                        :class=\"['form-control w540', { notfilled: isFilled2 }]\"\r\n                        :placeholder=\"insert.modelPlaceholder\"\r\n                        :value=\"$store.state.updProd.model\"\r\n                        @input=\"inputModel\"\r\n                    />\r\n                </div>\r\n                {{ insert.price }}:\r\n                <div class=\"form-group mb-20\">\r\n                    <input\r\n                        class=\"form-control w100 text-center inline-block\" \r\n                        placeholder=\"\"\r\n                        :value=\"$store.state.updProd.price\"\r\n                        @input=\"inputPrice\"\r\n                    />\r\n                </div>\r\n\r\n                <multi-upload\r\n                    ref=\"uplModule\"\r\n                    :uploadButton=\"insert.uploadButton\"\r\n                    :uploadedFiles=\"insert.uploadedFiles\"\r\n                />\r\n\r\n                <hr class=\"w540 hr-dashed\">\r\n                <h5>{{ insert.translationHeader }}:</h5>\r\n                {{ insert.brand2Label }}:\r\n                <div class=\"form-group mb-10\">\r\n                    <input\r\n                        :class=\"['form-control w540']\"\r\n                        v-model=\"$store.state.updProd.brand2\"\r\n                        :placeholder=\"insert.brand2Placeholder\"\r\n                    />\r\n                </div>\r\n                {{ insert.model2Label }}:\r\n                <div class=\"form-group mb-10\">\r\n                    <input\r\n                        :class=\"['form-control w540 mb-30']\"\r\n                        v-model=\"$store.state.updProd.model2\"\r\n                        :placeholder=\"insert.model2Placeholder\"\r\n                    />\r\n                </div>\r\n                <button @click=\"checkForm\" class=\"btn2 greenBtn\">{{ insert.updButton }}</button>\r\n            </form>\r\n        </div>\r\n        <!-- <div v-else>\r\n            ID: <b>{{ $route.params.id }}</b><br>\r\n            <div v-html=\"insert.notFound\"></div>\r\n        </div> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport MultiUpload from '@/components/MultiUpload'\r\nimport { define } from '@/data/globals.js'\r\nimport useAuth from '@/hooks/useAuth'\r\nimport productsMixin from '@/mixins/productsMixin'\r\nimport axios from 'axios'\r\nimport useProducts from '@/hooks/useProducts'\r\nimport useNotify from '@/hooks/useNotify'\r\nimport notifys from '@/data/languages/notifications/FormEditData'\r\nimport useLang from '@/hooks/useLang'\r\n\r\nexport default {\r\n    components: {\r\n        MultiUpload,\r\n    },\r\n    mixins: [ productsMixin ],\r\n    props: {\r\n        insert: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            name: 'FormEdit',\r\n\r\n            isFilled1: false,\r\n            isFilled2: false,\r\n        }\r\n    },\r\n    methods: {\r\n        inputPrice(event) {\r\n            // оставляем только цыфры и точку\r\n            this.$store.commit('SetUpdPrice', this.checkPrice(event.target.value))\r\n        },\r\n        inputBrand(event) {\r\n            this.$store.commit('SetUpdBrand', event)\r\n            // сняте подсветки, если поле заполнено\r\n            if(this.$store.state.updProd.brand.length !== 0) this.isFilled1 = false; else this.isFilled1 = true\r\n        },\r\n        inputModel(event) {\r\n            this.$store.commit('SetUpdModel', event)\r\n            // сняте подсветки, если поле заполнено\r\n            if(this.$store.state.updProd.model.length !== 0) this.isFilled2 = false; else this.isFilled2 = true\r\n        },\r\n        \r\n        // findUpdProd() {\r\n        //     console.log('1 findUpdProd')\r\n        //     if(this.$store.state.updProd.id > 0) return\r\n        //     console.log('2 findUpdProd')\r\n\r\n        //     console.log('3 this.$store.state.products: ', this.$store.state.products)\r\n\r\n        //     // if(this.$store.state.products) {\r\n        //     const { id, price, pictures, brand, model } = this.$store.state.products.find( item => item.id == this.$route.params.id )\r\n        //     this.$store.commit('SetUpdProd', { id, price, pictures, brand, model })\r\n        //     // this.$store.commit('SetUpdProd', { id, price, pictures, brand, model })\r\n        //     // }\r\n            \r\n        //     this.getTranslations()\r\n        // },\r\n\r\n    // // Вернуть поля формы к значениям по умолчанию\r\n    // resetUpdForm() {\r\n    //     console.log('resetUpdForm!');\r\n    //     const {id, name, description} = this.products.find(item => item.id === this.$store.state.updProd.id)\r\n        \r\n    //     this.$store.commit('setUpdProd', {id, name, description})\r\n    //     // Возврат элементов из picsToDelete в стор pictures\r\n    //     this.$refs.updForm.$refs.uplModule.getBackFiles()\r\n\r\n    // },\r\n\r\n        checkForm() {\r\n            // подсветка пустых полей\r\n            if(this.$store.state.updProd.brand.length === 0) this.isFilled1 = true\r\n            if(this.$store.state.updProd.model.length === 0) this.isFilled2 = true\r\n            // Поля заполнены - добавим товар\r\n            if(!this.isFilled1 && !this.isFilled2) this.updateProduct()\r\n        },\r\n\r\n\r\n\r\n        async updateProduct() {\r\n            console.log('\\n\\n@click ~~~~~~~~~~ updateProduct ~~~~~~~~~~ ')\r\n            // console.log('Создание товара. Перекрыть экран (\"заблокировать интерфейс\") и показать спинер.\\nОтправить запрос на бэк');\r\n            \r\n            const customAxios = axios.create({ // baseURL: 'http://yourcoolapi.com/api',\r\n                withCredentials: true, \r\n            })\r\n\r\n            customAxios.interceptors.request.use(\r\n                config => {\r\n                    console.log('>>>> customAxios - request (config)')\r\n\r\n                    let localToken = localStorage.getItem('AccessToken')\r\n                    if(localToken) localToken = encodeURI(localToken)\r\n                    // Для информации:\r\n                    // encodeURI заменяет киррилические и другие символы на соответствующими им UTF-8 escape-последовательности. Незаменяемые символы: латинский алфавит, десятичные цифры, - _ . ! ~ * ' ( ) #\r\n                    config.headers.Authorization = 'Bearer ' + localToken\r\n                    return config\r\n                }\r\n            )\r\n\r\n            customAxios.interceptors.response.use(\r\n                config => {\r\n                    console.log('>>>> customAxios - response (config)')\r\n                    return config;\r\n                },\r\n                async error => {\r\n                    console.log('>>>> customAxios - response (error)')\r\n                    const originalRequest = error.config\r\n                    if (error.response.status == 401 &&\r\n                        error.config &&\r\n                        !error.config._isRetry\r\n                    ) {\r\n                        originalRequest._isRetry = true\r\n                        console.log('> 401 !!!!!!!!!!!: ')\r\n                        \r\n                        if(await this.tokenRefresh()) {\r\n                            console.log(' tokenRefresh TRUE!')\r\n                            return customAxios.request(originalRequest)\r\n                        }\r\n                        // else {\r\n                        //     console.log(' tokenRefresh FALSE! ')\r\n                        //     console.log('НЕ АВТОРИЗОВАН')\r\n                        // } // if\r\n\r\n                    }\r\n                    \r\n                    throw error; // прокидывает ошибки (как бы на верхний уровень), которые вернула функция tokenRefresh()\r\n                } // async error\r\n            ) // customAxios.interceptors.response\r\n\r\n            // Изображения в сторе + новые\r\n            const sumPics = [\r\n                // ...this.$store.state.updProd.pictures,\r\n                ...this.$store.getters.getPicsInDB,\r\n                ...this.$refs.uplModule.newPics\r\n            ]\r\n\r\n            try {\r\n                const response = await customAxios.post( define.pathToAPI + '/products/update.php',\r\n                // const { data } = await customAxios.post( define.pathToAPI + '/products/create.php',\r\n                // const response = await axios.post( define.pathToAPI + '/products/create.php',\r\n                    JSON.stringify({\r\n                        id: this.$store.state.updProd.id,\r\n                        price: this.$store.state.updProd.price,\r\n                        pictures: sumPics,\r\n                        language: this.$store.state.language,\r\n                        brand: this.$store.state.updProd.brand,\r\n                        model: this.$store.state.updProd.model,\r\n\r\n                        brand2: this.$store.state.updProd.brand2,\r\n                        model2: this.$store.state.updProd.model2,\r\n                    }),\r\n                    {\r\n                        // withCredentials: true, // определяет, должны ли создаваться кросс-доменные Access-Control запросы с использованием таких идентификационных данных как cookie, авторизационные заголовки или TLS сертификаты. Если здесь установили true, то на стороне бека нужно установить header(\"Access-Control-Allow-Credentials: true\")\r\n                        headers: {\r\n                            // Authorization: 'Bearer YOUR_JWT_TOKEN_HERE',\r\n                            Accept: 'application/json',\r\n                            'Content-Type': 'application/json',\r\n                        }\r\n                    }\r\n                )\r\n\r\n                // console.log('response: ', response);\r\n                // console.log('data: ', data);\r\n                console.log('[3] response: ', response)\r\n                // console.log('response.data: ', response.data);\r\n                // console.log('response.data.status: ', response.data.status);\r\n\r\n                // обработка ответа\r\n                if(response.data.status === 'success') {\r\n\r\n                    switch(response.data.localeStatus) {\r\n                        case 'created':\r\n                            // Изменения сохранены<br>Создана запись на втором языке\r\n                            this.pushNotify( notifys[this.lang].text1, 'notifyGreen')\r\n                            break\r\n                        case 'success':\r\n                            // Изменения сохранены\r\n                            this.pushNotify( notifys[this.lang].saved, 'notifyGreen')\r\n                            break\r\n                        case 'nothingToChanges':\r\n                            // Изменения сохранены\r\n                            this.$store.commit('SetUpdProdTranslation', [ '', '' ] )\r\n                            this.pushNotify( notifys[this.lang].saved, 'notifyGreen')\r\n                            break\r\n                        case 'deleted':\r\n                            // Изменения сохранены<br>Запись на втором языке удалена\r\n                            this.$store.commit('SetUpdProdTranslation', [ '', '' ] )\r\n                            this.pushNotify( notifys[this.lang].text2, 'notifyGreen')\r\n                            break\r\n                        case 'failed':\r\n                            // Изменения сохранены<br>Но возникла ошибка при внесении изменений на втором языке\r\n                            this.pushNotify( notifys[this.lang].text3, 'notifyOrange')\r\n                            break\r\n                        default:\r\n                            // Изменения сохранены<br>Но возникла непредвиденная ошибка (подробности в консоли)\r\n                            this.pushNotify( notifys[this.lang].text4, 'notifyOrange')\r\n                            console.log(response)\r\n                            break\r\n                    } // switch\r\n                    // #####################################################################\r\n                    // Сделано: удаление picsToDelete файлов ПОСЛЕ обновления товара в базе. \r\n                    // Протестить!\r\n                    // #####################################################################\r\n                    // Удаление picsToDelete файлов\r\n                    this.$refs.uplModule.delPicsToDelete()\r\n\r\n                    // // Обновление полей объекта в массиве products\r\n                    // this.products = this.products.map(item => item.id === this.$store.state.updProd.id ? {...this.$store.state.updProd} : item)\r\n                    this.getProducts('updateProduct()')\r\n                    // Очистка массива файлов, скрытие прогресс-бара и очистка поля input\r\n                    this.$refs.uplModule.hideBarAndClean()\r\n    // },\r\n\r\n                    this.$store.commit('UpdatePicsInDB', sumPics)\r\n\r\n\r\n                    // this.$store.commit('SetNewId', response.data.id)\r\n                    // this.$store.commit('SetNewPictures', this.$refs.uplModule.newPics)\r\n                    // // this.$store.commit('SetNewPictures', response.data.pictures)\r\n                    // // this.$refs.uplModule.newPics\r\n                    // // console.log('[Получили ответ \"ОК, CREATED\" -> \\nФиксируем изменения во VUE/Пушим зеленое уведомление]')\r\n                    // // this.createData()\r\n                    // // добавление нового товара (в массив)\r\n                    // this.$store.commit('AddProduct')\r\n                    // this.$store.commit('ClearNewProd')\r\n                    // // Очистка массива файлов, скрытие прогресс-бара и очистка поля input\r\n                    // this.$refs.uplModule.hideBarAndClean()\r\n\r\n                    // // Отключение заморозки действий\r\n                    // this.$store.commit('SetFreeze', false)\r\n                    // this.pushNotify('Изменения сохранены', 'notifyGreen')\r\n                } else {\r\n                    // Ошибка. Ответ сервера: ... <br>Подробности в консоли\r\n                    this.pushNotify( notifys[this.lang].text5_1 + response.data.error + notifys[this.lang].text5_2, 'notifyOrange')\r\n                    console.log('Ошибка:' + response)\r\n                }\r\n\r\n            } catch (e) {\r\n                // Если интерсептор не вернул ошибки, то пропускаем обработку ошибок\r\n                if(!e.response) return\r\n\r\n                if(e.code === 'ERR_NETWORK') {\r\n                    // Нет подключения к серверу\r\n                    this.pushNotify( notifys[this.lang].errNetwork, 'notifyOrange')\r\n                    console.log('Нет подключения к серверу')\r\n                    return\r\n                }\r\n\r\n                // Обработка ошибок, которые вернула функция tokenRefresh()\r\n                // (из customAxios.interceptors.response)\r\n                // throw error прокидывает ошибки (как бы на верхний уровень)\r\n                switch(e.response.data.status) {\r\n                    case 'expired':\r\n                        console.log('44 expired [E1] (BOTH TOKENS IS EXPIRED) ');\r\n                        // this.tokenRefresh()\r\n                        break\r\n                    case 'failed':\r\n                        console.log(' failed [E2]');\r\n                        // this.pushNotify('Alarm! Передан некорректный токен.<br>Доступ закрыт', 'notifyRed')\r\n                        break\r\n                    case 'denied':\r\n                        console.log(' denied [E3]');\r\n                        // this.pushNotify('Alarm! Передан пустой токен.<br>Доступ закрыт', 'notifyRed')\r\n                        break\r\n                    case 'approved':\r\n                        console.log(' 55 approved [E4] ');\r\n                        // this.pushNotify('Alarm! Передан пустой токен.<br>Доступ закрыт', 'notifyRed')\r\n                        break\r\n                    case 'locked':\r\n                        console.log(' locked [E5] ');\r\n                        // this.pushNotify('Alarm! Передан пустой токен.<br>Доступ закрыт', 'notifyRed')\r\n                        break\r\n                    default:\r\n                        // this.pushNotify('Ошибка. Подробности в консоли', 'notifyOrange')\r\n                        // console.log(e)\r\n                        console.log('error [E6]: ' + e)\r\n                        break\r\n                } // switch\r\n\r\n            }\r\n        },\r\n\r\n    },// methods\r\n\r\n    mounted() {\r\n    // beforeMount() {\r\n        this.getUpdProd(this.$route.params.id, true) // true - после получения updProd запустить getTranslations()\r\n        // this.$store.commit('SetUpdId', +this.$route.params.id)\r\n    },\r\n    // mounted() {\r\n    //     console.log('[FormEdit] -> mounted findUpdProd()')\r\n    //     this.findUpdProd()\r\n    // },\r\n    watch: {\r\n        '$store.state.language': function() {\r\n            console.log('[' + this.name + '] -> language changes detected ')\r\n            this.getUpdProd(this.$route.params.id, true) // true - после получения updProd запустить getTranslations()\r\n        },\r\n    },// watch\r\n    // Composition API\r\n    setup() {\r\n        const { tokenRefresh } = useAuth()\r\n        const { lang } = useLang('FormEdit')\r\n        const { pushNotify } = useNotify()\r\n        const { getProducts, getUpdProd, checkPrice } = useProducts()\r\n\r\n        return { define, tokenRefresh, lang, pushNotify, getProducts, getUpdProd, checkPrice }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","export default {\r\n    en: {\r\n        text1: 'English version of Notification<br>Изменения сохранены<br>Создана запись на втором языке',\r\n        saved: \"English version of Notification<br>Изменения сохранены\",\r\n        text2: 'English version of Notification<br>Изменения сохранены<br>Запись на втором языке удалена',\r\n        text3: 'English version of Notification<br>Изменения сохранены<br>Но возникла ошибка при внесении изменений на втором языке',\r\n        text4: 'English version of Notification<br>Изменения сохранены<br>Но возникла непредвиденная ошибка (подробности в консоли)',\r\n        text5_1: 'English version of Notification<br>Ошибка. Ответ сервера: ',\r\n        text5_2: '<br>Подробности в консоли',\r\n        errNetwork: 'English version of Notification<br>Нет подключения к серверу',\r\n    },\r\n    uk: {\r\n        text1: 'Изменения сохранены<br>Создана запись на втором языке',\r\n        saved: \"Изменения сохранены\",\r\n        text2: 'Изменения сохранены<br>Запись на втором языке удалена',\r\n        text3: 'Изменения сохранены<br>Но возникла ошибка при внесении изменений на втором языке',\r\n        text4: 'Изменения сохранены<br>Но возникла непредвиденная ошибка (подробности в консоли)',\r\n        text5_1: 'Ошибка. Ответ сервера: ',\r\n        text5_2: '<br>Подробности в консоли',\r\n        errNetwork: 'Нет подключения к серверу',\r\n    },\r\n}\r\n","import { render } from \"./FormEdit.vue?vue&type=template&id=903a2668\"\nimport script from \"./FormEdit.vue?vue&type=script&lang=js\"\nexport * from \"./FormEdit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\OpenServer\\\\domains\\\\vue\\\\vue-catalog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default {\r\n    en: {\r\n        header: \"Editing Auto\",\r\n\r\n        notFound: \"Not found<br>Or no description in English<br>Try change language\",\r\n        brandLabel: \"Brand\",\r\n        brandPlaceholder: \"Type here brand\",\r\n        modelLabel: \"Model\",\r\n        modelPlaceholder: \"Type here model\",\r\n        price: \"Price\",\r\n        uploadButton: \"Upload Images\",\r\n        uploadedFiles: \"Uploaded Files\",\r\n\r\n        translationHeader: \"Translation into Ukrainian (not required)\",\r\n        brand2Label: \"Brand\",\r\n        brand2Placeholder: \"Type here the brand in Ukrainian\",\r\n        model2Label: \"Model\",\r\n        model2Placeholder: \"Type here the model in Ukrainian\",\r\n\r\n        updButton: \"Save Changes\",\r\n    },\r\n    uk: {\r\n        header: \"Редактирование авто\",\r\n\r\n        notFound: \"Автотомобиль не найден.<br>Или отсутствует описание на украинском.<br>Попробуйте сменить язык.\",\r\n        brandLabel: \"Марка\",\r\n        brandPlaceholder: \"Напишите марку автомобиля\",\r\n        modelLabel: \"Модель\",\r\n        modelPlaceholder: \"Напишите модель\",\r\n        price: \"Цена\",\r\n        uploadButton: \"Загрузить\",\r\n        uploadedFiles: \"Загружены файлы\",\r\n\r\n        translationHeader: \"Перевод на английский (необязательно)\",\r\n        brand2Label: \"Марка\",\r\n        brand2Placeholder: \"Напишите марку на английском\",\r\n        model2Label: \"Модель\",\r\n        model2Placeholder: \"Напишите модель на английском\",\r\n\r\n        updButton: \"Сохранить\",\r\n    },\r\n}\r\n","import { render } from \"./EditView.vue?vue&type=template&id=a68e44e6\"\nimport script from \"./EditView.vue?vue&type=script&lang=js\"\nexport * from \"./EditView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\OpenServer\\\\domains\\\\vue\\\\vue-catalog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_toDisplayString","$setup","header","_ctx","state","appIsStarting","_hoisted_2","isAuth","_hoisted_4","_createVNode","_component_form_edit","insert","_hoisted_3","_component_login_form","updProdFreeze","updProd","brand","model","_hoisted_7","params","id","onSubmit","$props","brandLabel","notfilled","$data","placeholder","brandPlaceholder","value","onInput","$options","modelLabel","modelPlaceholder","price","_component_multi_upload","ref","uploadButton","uploadedFiles","_hoisted_15","translationHeader","brand2Label","brand2","$event","brand2Placeholder","model2Label","model2","model2Placeholder","onClick","updButton","_hoisted_5","innerHTML","notFound","en","text1","saved","text2","text3","text4","text5_1","text5_2","errNetwork","uk","components","MultiUpload","mixins","productsMixin","props","type","Object","required","data","name","isFilled1","isFilled2","methods","inputPrice","event","this","$store","commit","checkPrice","target","inputBrand","length","inputModel","checkForm","updateProduct","async","console","log","customAxios","axios","withCredentials","interceptors","request","use","config","localToken","localStorage","getItem","encodeURI","headers","Authorization","response","originalRequest","error","status","_isRetry","tokenRefresh","sumPics","getters","getPicsInDB","$refs","uplModule","newPics","post","define","JSON","stringify","pictures","language","Accept","localeStatus","pushNotify","notifys","lang","delPicsToDelete","getProducts","hideBarAndClean","e","code","mounted","getUpdProd","$route","watch","setup","useAuth","useLang","useNotify","useProducts","__exports__","LoginForm","FormEdit","render"],"sourceRoot":""}