(function(){"use strict";var e={523:function(e,t,o){o.d(t,{AS:function(){return r},Cf:function(){return i},Ou:function(){return n},o7:function(){return a},re:function(){return s}});const n={host:"",pathToGraphics:"",pathToAPI:""};"localhost"===location.hostname?(n.host="http://localhost:8080",n.pathToAPI="https://api-catalog",n.pathToGraphics="https://api-catalog/libs/_graphics(copy)"):(n.host="https://massaclub.com",n.pathToAPI="https://massaclub.com/api-catalog",n.pathToGraphics="https://massaclub.com/api-catalog/libs/_graphics(copy)"),n.pathToUploads=n.pathToAPI+"/multiupload/uploads",n.prevFolder=n.pathToUploads+"/190px/",n.prevFolder2=n.pathToUploads+"/40px/";const a=["en","uk"],r=49,i=14e3,s=15e3;n.pathToGraphics},4143:function(e,t,o){o.d(t,{Z:function(){return u}});var n=o(4870),a=o(65),r=o(6265),i=o.n(r),s=o(523),l=o(5041),c={en:{errNetwork:"English version of Notification<br>Нет подключения к серверу",incorrectResp:"English version of Notification<br>Ошибка. Сервер вернул некорректный ответ",text5_1:"English version of Notification<br>Ошибка. Ответ сервера: ",text5_2:"<br>Подробности в консоли",welcome:"English version of Notification<br>Добро пожаловать!<br>Вам открыт доступ к приложению",hiAgain:"English version of Notification<br>У вас есть доступ к приложению",bye:"English version of Notification<br>Вы вышли из приложения",text1:"English version of Notification<br>Доступ закрыт<br>Проверьте логин и пароль",someError:"English version of Notification<br>Ошибка. Подробности в консоли",incorrectToken:"English version of Notification<br>Alarm! Передан некорректный токен.<br>Доступ закрыт",emptyToken:"English version of Notification<br>Alarm! Передан пустой токен.<br>Доступ закрыт",loginPlease:"English version of Notification<br>Залогиньтесь",accTokenUpdated:"English version of Notification<br>Access Token обновлен<br>У вас есть доступ к приложению",fakeToken:"Ошибка безопастности<br>Похоже на подделку токена доступа<br>Залогиньтесь или обратитесь в поддержку"},uk:{errNetwork:"Нет подключения к серверу",incorrectResp:"Ошибка. Сервер вернул некорректный ответ",text5_1:"Ошибка. Ответ сервера: ",text5_2:"<br>Подробности в консоли",welcome:"Добро пожаловать!<br>Вам открыт доступ к приложению",hiAgain:"У вас есть доступ к приложению",bye:"Вы вышли из приложения",text1:"Доступ закрыт<br>Проверьте логин и пароль",someError:"Ошибка. Подробности в консоли",incorrectToken:"Alarm! Передан некорректный токен.<br>Доступ закрыт",emptyToken:"Alarm! Передан пустой токен.<br>Доступ закрыт",loginPlease:"Залогиньтесь",accTokenUpdated:"Access Token обновлен<br>У вас есть доступ к приложению",fakeToken:"Ошибка безопастности<br>Похоже на подделку токена доступа<br>Залогиньтесь или обратитесь в поддержку"}},d=o(2276);function u(){const e=(0,a.oR)(),{pushNotify:t}=(0,l.Z)(),{lang:o}=(0,d.Z)("useAuth"),r=(0,n.iH)("user@gmail.com"),u=(0,n.iH)("888");let p=localStorage.getItem("AccessToken");p&&(p=encodeURI(p));const g=(0,n.iH)(p);async function f(){e.commit("SetIsAuthLoading",!0);try{const n=await i().post(s.Ou.pathToAPI+"/access/login.php",JSON.stringify({email:r.value,password:u.value}),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}});"approved"===n.data.status&&n.data.accessToken&&n.data.name?(localStorage.setItem("AccessToken",n.data.accessToken),localStorage.setItem("name",n.data.name),i().defaults.headers.common.Authorization="Bearer "+n.data.accessToken,t(c[o.value].welcome,"notifyWelcome",s.re),c[o.value],e.commit("SetIsAuth",!0)):t(c[o.value].incorrectResp,"notifyOrange")}catch(n){if("ERR_NETWORK"===n.code)return t(c[o.value].errNetwork,"notifyOrange"),void console.log("Нет подключения к серверу");switch(n.response.data.status){case"expired":y();break;case"denied":t(c[o.value].text1,"notifyOrange");break;default:t(c[o.value].someError,"notifyOrange"),console.log(n);break}}finally{e.commit("SetIsAuthLoading",!1)}}async function m(){e.commit("SetIsAuthLoading",!0);try{const n=await i().post(s.Ou.pathToAPI+"/access/logout.php",JSON.stringify({message:"Привет сервер! С этим сообщением ты сможешь прочитать cookie"}),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}});"ok"===n.data.status?(h(),t(c[o.value].bye,"notifyWelcome",s.re)):(t(c[o.value].text5_1+n.data.error+c[o.value].text5_2,"notifyOrange"),console.log(n))}catch(n){if("ERR_NETWORK"===n.code)return t(c[o.value].errNetwork,"notifyOrange"),void console.log("Нет подключения к серверу")}finally{e.commit("SetIsAuthLoading",!1)}}function h(){delete i().defaults.headers.common.Authorization,e.commit("SetIsAuth",!1),localStorage.removeItem("AccessToken"),localStorage.removeItem("name")}async function v(){if(g.value){i().defaults.headers.common.Authorization="Bearer "+g.value,e.commit("SetIsAuthLoading",!0);try{const n=await i().post(s.Ou.pathToAPI+"/access/validate_token.php",{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}});console.log("----- validateToken -----",n),console.log("-------------------------"),"allowed"===n.data.status?(t(c[o.value].hiAgain,"notifyWelcome",s.re),e.commit("SetIsAuth",!0)):(t(c[o.value].text5_1+n.data.error+c[o.value].text5_2,"notifyOrange"),console.log(n))}catch(n){if("ERR_NETWORK"===n.code)return t(c[o.value].errNetwork,"notifyOrange"),void console.log("Нет подключения к серверу");switch(n.response.data.status){case"expired":y();break;case"failed":t(c[o.value].incorrectToken,"notifyRed");break;case"denied":t(c[o.value].emptyToken,"notifyRed");break;default:t(c[o.value].someError,"notifyOrange"),console.log(n);break}}finally{e.commit("SetIsAuthLoading",!1)}}}async function y(){e.commit("SetIsAuthLoading",!0);try{const n=await i().post(s.Ou.pathToAPI+"/access/refresh_token.php",JSON.stringify({message:"Привет сервер! С этим сообщением ты сможешь прочитать cookie"}),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}});return console.log("response: ",n),"approved"===n.data.status&&n.data.accessToken?(t(c[o.value].accTokenUpdated,"notifyWelcome",s.re),e.commit("SetIsAuth",!0),localStorage.setItem("AccessToken",n.data.accessToken),i().defaults.headers.common.Authorization="Bearer "+n.data.accessToken,!0):(t(c[o.value].text5_1+n.data.error+c[o.value].text5_2,"notifyOrange"),void console.log(n))}catch(n){if("ERR_NETWORK"===n.code)return t(c[o.value].errNetwork,"notifyOrange"),void console.log("Нет подключения к серверу");switch(n.response.data.status){case"expired":return t(c[o.value].loginPlease,"notifyBlue"),void h();case"failed":return void t(c[o.value].incorrectToken,"notifyRed");case"denied":return t(c[o.value].loginPlease,"notifyBlue"),void h();case"locked":return t(c[o.value].fakeToken,"notifyBlue",s.re),console.log("Service is locked"),void h();default:return t(c[o.value].someError,"notifyOrange"),void console.log(n)}}finally{e.commit("SetIsAuthLoading",!1)}}return{email:r,password:u,login:f,logout:m,validateToken:v,tokenRefresh:y}}},2276:function(e,t,o){o.d(t,{Z:function(){return s}});var n=o(4870),a=o(3396),r=o(65),i=o(523);function s(){const e=(0,r.oR)(),t=(0,n.iH)(e.state.language);function o(){console.log("localStorage getItem");let t=localStorage.getItem("language");t&&(t=encodeURI(t)),i.o7.includes(t)||(t="uk"),e.commit("SetLanguage",t),console.log("   store.state.language: ",e.state.language)}return(0,a.YP)((()=>e.state.language),(function(){t.value=e.state.language})),{checkUserLanguage:o,lang:t}}},5041:function(e,t,o){o.d(t,{Z:function(){return r}});var n=o(65),a=o(523);function r(){const e=(0,n.oR)();function t(t){e.commit("DelNotify",t)}function o(t="Default Notification Text",o="notifyBlue",n=a.Cf){let r=Date.now(),i={id:r,notifyText:t,class:o};e.commit("AddNotify",i),setTimeout((()=>{e.commit("DelNotify",r)}),n)}return{delNotify:t,pushNotify:o}}},6673:function(e,t,o){o.d(t,{Z:function(){return u}});var n=o(4870),a=o(65),r=o(6265),i=o.n(r),s=o(523),l=o(5041),c={en:{incorrectResp:"English version of Notification<br>Ошибка. Сервер вернул некорректный ответ",errNetwork:"English version of Notification<br>Нет подключения к серверу",noData:"English version of Notification<br>Нет данных",errRespData:"English version of Notification<br>Ошибка при получении данных от сервера",deleted:"English version of Notification<br>Удаление выполнено"},uk:{incorrectResp:"Ошибка. Сервер вернул некорректный ответ",errNetwork:"Нет подключения к серверу",noData:"Нет данных",errRespData:"English version of Notification<br>Ошибка при получении данных от сервера",deleted:"Удаление выполнено"}},d=o(2276);function u(){const e=(0,a.oR)(),{pushNotify:t}=(0,l.Z)(),{lang:o}=(0,d.Z)("useProducts"),r=(0,n.iH)(),u=(0,n.iH)(12);async function p(n){if(e.state.isAuth){console.log("getProducts("+n+") store isAuth: ",e.state.isAuth),e.commit("SetIsProdsLoading",!0);try{const n=await i().get(s.Ou.pathToAPI+"/products/",{params:{language:e.state.language,sort:e.state.sortSelected,page:e.state.page,limit:u.value}});if(console.log("response: ",n),console.log("response.data.records: ",n.data.records),n.data){if(n.data.records.length>0){e.commit("SetProducts",n.data.records);let t=Math.ceil(n.data.totalCount/u.value);e.commit("SetTotalPages",t)}}else t(c[o.value].incorrectResp,"notifyOrange")}catch(a){if(console.log("e: ",a),"ERR_NETWORK"===a.code)return t(c[o.value].errNetwork,"notifyOrange"),void console.log("Нет подключения к серверу");switch(a.response.data.status){case"notfound":e.commit("SetProducts",[]),console.log("Нет данных");break;default:t("Ошибка при получении данных от сервера","notifyOrange"),console.log("Ошибка при получении данных от сервера"),console.log("e: ",a);break}}finally{e.commit("SetIsProdsLoading",!1)}}}async function g(n,a){if(console.log("paramId: "+n),e.state.isAuth&&e.state.language){e.commit("SetIsProdsLoading",!0),e.commit("ClearUpdProd");try{const r=await i().get(s.Ou.pathToAPI+"/products/",{params:{language:e.state.language,id:n}});console.log("getUpdProd response: ",r),r.data.records[0].id>0&&r.data.records[0].id==n?(e.commit("SetUpdProd",[r.data.records[0].id,r.data.records[0].price,r.data.records[0].pictures,r.data.records[0].brand,r.data.records[0].model]),a&&f()):(t(c[o.value].incorrectResp,"notifyOrange"),console.log("Ошибка. Сервер вернул некорректный ответ"))}catch(r){if(console.log("e: ",r),"ERR_NETWORK"===r.code)return t(c[o.value].errNetwork,"notifyOrange"),void console.log("Нет подключения к серверу");switch(r.response.data.status){case"notfound":t(c[o.value].noData,"notifyOrange"),console.log("Нет данных");break;default:t(c[o.value].errRespData,"notifyOrange"),console.log("Ошибка при получении данных от сервера"),console.log("e: ",r);break}}finally{e.commit("SetIsProdsLoading",!1)}}}async function f(){if(e.state.isAuth&&e.state.updProd.id){switch(console.log("getTranslations() store isAuth: ",e.state.isAuth),e.state.language){case s.o7[0]:r.value=s.o7[1];break;case s.o7[1]:r.value=s.o7[0];break;default:r.value=s.o7[1];break}console.log("getTranslations store.state.language: ",e.state.language),console.log("translateTo.value: ",r.value);try{const n=await i().get(s.Ou.pathToAPI+"/products/",{params:{language:r.value,id:e.state.updProd.id}});console.log("getTranslations response: ",n),n.data.records[0].id>0&&n.data.records[0].id==e.state.updProd.id?e.commit("SetUpdProdTranslation",[n.data.records[0].brand,n.data.records[0].model]):t(c[o.value].incorrectResp,"notifyOrange")}catch(n){if("ERR_NETWORK"===n.code)return t(c[o.value].errNetwork,"notifyOrange"),void console.log("Нет подключения к серверу");switch(n.response.data.status){case"notfound":break;default:console.log("error"),console.log("e: ",n);break}}}}function m(n){console.log("deleteData() id:"+n);const a=e.state.products.filter((e=>e.id!==n));e.commit("SetProducts",a),t(c[o.value].deleted,"notifyOrange")}function h(e){let t=e.replace(/[^.\d]+/g,"").replace(/^([^.]*\.)|\./g,"$1");return t}return{limit:u,getProducts:p,getUpdProd:g,deleteData:m,checkPrice:h}}},5714:function(e,t,o){var n=o(9242),a=o(3396);function r(e,t,o,n,r,i){const s=(0,a.up)("Notify-List"),l=(0,a.up)("nav-bar"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s),(0,a.Wm)(l),(0,a.Wm)(c,{class:"container view"})],64)}var i=o(7139);const s={class:"bg-dark"},l={class:"navbar navbar-dark justify-content-between container"},c={class:"nav nav-pills"},d={class:"nav-item"},u={class:"nav-item"},p={key:0},g={class:"nav-item"},f={class:"nav nav-pills"},m={class:"nav-item"},h={class:"nav-item"},v={class:"nav nav-pills"},y={class:"nav-item"};function b(e,t,o,n,r,b){const w=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("nav",l,[(0,a._)("ul",c,[(0,a._)("li",d,[(0,a.Wm)(w,{to:"/",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(n.insert[n.lang].catalog),1)])),_:1})]),(0,a._)("li",u,[(0,a.Wm)(w,{to:"/add",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(n.insert[n.lang].addAuto),1)])),_:1})]),e.$store.state.isAuth?((0,a.wg)(),(0,a.iD)("span",p,[(0,a._)("li",g,[(0,a._)("div",{class:"nav-link",onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e))},(0,i.zw)(n.insert[n.lang].logout),1)])])):(0,a.kq)("",!0)]),(0,a._)("ul",f,[(0,a._)("li",m,[(0,a._)("button",{onClick:t[1]||(t[1]=e=>this.$store.dispatch("SaveLanguage","en")),class:"btn2 mr-6"},"English")]),(0,a._)("li",h,[(0,a._)("button",{onClick:t[2]||(t[2]=e=>this.$store.dispatch("SaveLanguage","uk")),class:"btn2"},"Украинский")])]),(0,a._)("ul",v,[(0,a._)("li",y,[(0,a.Wm)(w,{to:"/about",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(n.insert[n.lang].about),1)])),_:1})])])])])}var w=o(4143),k={en:{catalog:"Catalog",addAuto:"+ Add Auto",logout:"Sign Out",about:"About Site"},uk:{catalog:"Каталог",addAuto:"+ Добавить авто",logout:"Выйти",about:"О сайте"}},P=o(2276),S={data(){return{name:"NavBar"}},methods:{},setup(){const{logout:e}=(0,w.Z)(),{lang:t}=(0,P.Z)("NavBar");return{logout:e,lang:t,insert:k}}},T=o(89);const A=(0,T.Z)(S,[["render",b]]);var _=A;const N=["innerHTML"],O=["onClick"],I=["src"];function L(e,t,o,r,s,l){return(0,a.wg)(),(0,a.j4)(n.W3,{name:"notify",tag:"div",className:"notifyArea"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.notifyList,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:(0,i.C_)(["notifyItem",e.class])},[(0,a._)("div",{className:"notifyText",innerHTML:e.notifyText},null,8,N),(0,a._)("span",{className:"delNotifyBtn",onClick:t=>r.delNotify(e.id)},[(0,a._)("img",{src:s.define.pathToGraphics+"/delete4_14px.png",alt:""},null,8,I)],8,O)],2)))),128))])),_:1})}var E=o(523),D=o(5041),C={data(){return{define:E.Ou}},setup(){const{delNotify:e}=(0,D.Z)();return{delNotify:e}}};const R=(0,T.Z)(C,[["render",L]]);var x=R,U=o(6673),Z=o(1577),B={components:{NavBar:_,NotifyList:x},mixins:[Z.Z],data(){return{name:"App"}},beforeCreate(){console.log("[App] -> beforeCreate"),this.validateToken(),this.checkUserLanguage()},setup(){const{validateToken:e}=(0,w.Z)(),{checkUserLanguage:t}=(0,P.Z)("App"),{getProducts:o,findUpdProd:n}=(0,U.Z)();return{validateToken:e,checkUserLanguage:t,getProducts:o,findUpdProd:n}}};const j=(0,T.Z)(B,[["render",r]]);var z=j,$=o(2483);const W={key:0},M=["src"],H={key:1},F={key:0},K={key:1,class:"pt-30"};function q(e,t,o,n,r,s){const l=(0,a.up)("login-form"),c=(0,a.up)("prod-list");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h1",null,(0,i.zw)(n.insert[n.lang].header),1),e.$store.state.isAuthLoading?((0,a.wg)(),(0,a.iD)("div",W,[(0,a._)("img",{src:n.define.pathToGraphics+"/loaders/loader_1_32px.gif",alt:""},null,8,M)])):((0,a.wg)(),(0,a.iD)("div",H,[e.$store.state.isAuth?((0,a.wg)(),(0,a.iD)("div",K,[(0,a.Wm)(c,{insert:n.insert[n.lang].prodList},null,8,["insert"])])):((0,a.wg)(),(0,a.iD)("div",F,[(0,a.Wm)(l)]))]))])}var Y=o(2373);const G=(0,a._)("hr",{class:"hr-dashed mb-30"},null,-1),V={key:0,class:"mb-30"},J=["src"],Q={key:1},X={key:0},ee={class:"row row-cols-xs-1 row-cols-sm-3 row-cols-md-4 row-cols-lg-5 row-cols-xl-6"},te=["onClick"],oe={class:"card4"},ne={key:1,class:"mb-30"},ae=(0,a._)("hr",{class:"hr-dashed"},null,-1),re={key:2,class:"page__wrapper mb-30"},ie=["onClick"];function se(e,t,o,r,s,l){const c=(0,a.up)("my-select"),d=(0,a.up)("Prod-Items");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Uk)((0,i.zw)(o.insert.sorting)+": ",1),(0,a.Wm)(c,{class:"ml-4",options:s.sortOptions,insert:o.insert.mySelect,onUpdateSelect:l.updateSelect},null,8,["options","insert","onUpdateSelect"]),G,e.$store.state.isProdsLoading?((0,a.wg)(),(0,a.iD)("div",V,[(0,a._)("img",{src:r.define.pathToGraphics+"/loaders/loader_1_32px.gif",alt:""},null,8,J)])):((0,a.wg)(),(0,a.iD)("div",Q,[e.$store.getters.products?((0,a.wg)(),(0,a.iD)("div",X,[(0,a._)("div",ee,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.products,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"col mb-20",onClick:(0,n.iM)((t=>l.selectProduct(e.id,e.price,e.pictures,e.brand,e.model)),["stop"])},[(0,a._)("div",oe,[(0,a.Wm)(d,{prod:e,insert:o.insert.prodItems},null,8,["prod","insert"])])],8,te)))),128))])])):((0,a.wg)(),(0,a.iD)("div",ne,(0,i.zw)(o.insert.notFound),1))])),ae,e.$store.state.isProdsLoading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",re,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.totalPages,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t,onClick:e=>l.changePage(t),class:(0,i.C_)(["page",{"current-page":e.$store.state.page===t}])},(0,i.zw)(t),11,ie)))),128))]))],64)}const le={key:0},ce=["src"],de=["src"],ue={class:"mb-4px"};function pe(e,t,o,n,r,s){return(0,a.wg)(),(0,a.iD)(a.HY,null,[o.prod.pictures?((0,a.wg)(),(0,a.iD)("div",le,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.prod.pictures,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e},[0===t?((0,a.wg)(),(0,a.iD)("img",{key:0,src:n.define.prevFolder+e,alt:""},null,8,ce)):(0,a.kq)("",!0)])))),128))])):((0,a.wg)(),(0,a.iD)("img",{key:1,src:n.define.pathToGraphics+"/default2_190px.png",alt:""},null,8,de)),(0,a._)("h5",ue,(0,i.zw)(o.prod.brand),1),(0,a._)("h5",null,(0,i.zw)(o.prod.model),1),(0,a.Uk)(" "+(0,i.zw)(o.insert.price)+": "+(0,i.zw)(o.prod.price)+" USD ",1)],64)}var ge={components:{},props:{prod:{type:Object,required:!0},insert:{type:Object,required:!0}},data(){return{}},methods:{},setup(){return{define:E.Ou}}};const fe=(0,T.Z)(ge,[["render",pe]]);var me=fe;const he=["value"],ve={disabled:"",value:""},ye=["value"];function be(e,t,o,n,r,s){return(0,a.wg)(),(0,a.iD)("select",{value:e.$store.state.sortSelected,onChange:t[0]||(t[0]=(...e)=>s.changeOption&&s.changeOption(...e))},[(0,a._)("option",ve,(0,i.zw)(o.insert.defaultOption),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.options,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.value,value:e.value},(0,i.zw)(e.name),9,ye)))),128))],40,he)}var we={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]},insert:{type:Object,required:!0}},methods:{changeOption(e){this.$emit("updateSelect",e.target.value)}}};const ke=(0,T.Z)(we,[["render",be]]);var Pe=ke,Se={components:{ProdItems:me,MySelect:Pe},props:{insert:{type:Object,required:!0}},data(){return{idToDelete:0,sortOptions:[{value:"brand",name:this.insert.byBrand},{value:"model",name:this.insert.byModel},{value:"price",name:this.insert.byPrice}]}},methods:{selectProduct(e,t,o,n,a){console.log("selectProduct id:"+e),this.$store.commit("SetUpdProd",[e,t,o,n,a]),this.$store.commit("SetUpdProdTranslation",["",""]),this.$router.push("/cars/"+e)},changePage(e){this.$store.commit("SetPage",e),this.getProducts()},updateSelect(e){this.$store.commit("SetSortSelected",e),this.getProducts()}},watch:{"insert.sorting":{handler(e){console.log("val: ",e),this.sortOptions=[{value:"brand",name:this.insert.byBrand},{value:"model",name:this.insert.byModel},{value:"price",name:this.insert.byPrice}]}}},setup(){const{tokenRefresh:e}=(0,w.Z)(),{pushNotify:t}=(0,D.Z)(),{page:o,limit:n,getProducts:a}=(0,U.Z)();return{define:E.Ou,tokenRefresh:e,pushNotify:t,page:o,limit:n,getProducts:a}}};const Te=(0,T.Z)(Se,[["render",se]]);var Ae=Te,_e={en:{header:"Catalog",prodList:{sorting:"Sorting",mySelect:{defaultOption:"Select from list"},byBrand:"By Brand",byModel:"By Model",byPrice:"By Price",prodItems:{price:"Price"},notFound:"Empty. There is no car with a description in English."}},uk:{header:"Каталог",prodList:{sorting:"Сортировка",mySelect:{defaultOption:"Выберите из списка"},byBrand:"По марке",byModel:"По модели",byPrice:"По цене",prodItems:{price:"Цена"},notFound:"Пусто. Нет авто с описанием на украинском."}}},Ne={components:{LoginForm:Y.Z,ProdList:Ae},methods:{async login(){await this.$store.commit("Login"),this.$router.push("/")}},setup(){const{lang:e}=(0,P.Z)("CatalogView");return{define:E.Ou,lang:e,insert:_e}}};const Oe=(0,T.Z)(Ne,[["render",q]]);var Ie=Oe;const Le=[{path:"/",component:Ie},{path:"/cars/:id",component:()=>o.e(670).then(o.bind(o,1670))},{path:"/edit/:id",name:"EditView",component:()=>o.e(240).then(o.bind(o,9240))},{path:"/add",component:()=>o.e(774).then(o.bind(o,1774))},{path:"/login",component:()=>o.e(281).then(o.bind(o,6281))},{path:"/about",component:()=>o.e(712).then(o.bind(o,1712))},{path:"/:catchAll(.*)*",name:"PageNotFound",component:()=>o.e(330).then(o.bind(o,330))}],Ee=(0,$.p7)({history:(0,$.PO)("/vue-catalog/"),base:"/vue-catalog/",routes:Le});var De=Ee,Ce=o(65),Re=(0,Ce.MT)({state(){return{isAuth:!1,isAuthLoading:!0,language:"",products:[],isProdsLoading:!0,sortSelected:"",page:1,totalPages:0,notifyList:[],newProd:{id:0,price:1,pictures:[],brand:"",model:"",brand2:"",model2:""},updProd:{id:0,price:1,pictures:[],brand:"",model:"",brand2:"",model2:""},freeze:!1}},getters:{language(e){return e.language},products(e){if(e.products.length)return e.products},getPicsInDB(e){return e.updProd.pictures||(e.updProd.pictures=[]),e.updProd.pictures}},mutations:{SetIsAuth(e,t){e.isAuth=t},SetIsAuthLoading(e,t){e.isAuthLoading=t},SetLanguage(e,t){e.language=t},SetProducts(e,t){e.products=t},SetIsProdsLoading(e,t){e.isProdsLoading=t},SetTotalPages(e,t){e.totalPages=t},SetPage(e,t){e.page=t},SetSortSelected(e,t){e.sortSelected=t},SetUpdProd(e,[t,o,n,a,r]){e.updProd.id=t,e.updProd.price=o,e.updProd.pictures=n,e.updProd.brand=a,e.updProd.model=r},SetUpdProdTranslation(e,[t,o]){e.updProd.brand2=t,e.updProd.model2=o},UpdatePicsInDB(e,t){e.updProd.pictures=t},AddToPicsInDB(e,t){e.updProd.pictures=[...e.pictures,...t]},ClearUpdProd(e){e.updProd.id=0,e.updProd.price=1,e.updProd.pictures=[],e.updProd.brand="",e.updProd.model="",e.updProd.brand2="",e.updProd.model2=""},ClearNewProd(e){e.newProd.price=1,e.newProd.brand="",e.newProd.model="",e.newProd.brand2="",e.newProd.model2=""},DelNotify(e,t){e.notifyList=e.notifyList.filter((e=>e.id!==t))},AddNotify(e,t){e.notifyList=[t,...e.notifyList]},SetNewId(e,t){e.newProd.id=t},SetNewPictures(e,t){e.newProd.pictures=t},SetNewPrice(e,t){e.newProd.price=t},SetNewBrand(e,t){e.newProd.brand=t.target.value},SetNewModel(e,t){e.newProd.model=t.target.value},SetUpdBrand(e,t){e.updProd.brand=t.target.value},SetUpdModel(e,t){e.updProd.model=t.target.value},SetUpdPrice(e,t){e.updProd.price=t},SetFreeze(e,t){e.freeze=t}},actions:{SaveLanguage(e,t){localStorage.setItem("language",t),e.commit("SetLanguage",t)}}});(0,n.ri)(z).use(Re).use(De).mount("#app")},1577:function(e,t){t["Z"]={watch:{"$store.state.language":function(){console.log("[productsMixin] -> language changes detected / "+this.name),this.$store.commit("SetPage",1),this.getProducts("productsMixin / "+this.name)},"$store.state.isAuth":function(){console.log("[productsMixin] -> isAuth changes detected / "+this.name),this.getProducts("productsMixin / "+this.name)}}}},2373:function(e,t,o){o.d(t,{Z:function(){return y}});var n=o(3396),a=o(7139),r=o(9242);const i={class:"mb-3"},s={for:"exampleInputEmail1",class:"form-label"},l={class:"mb-3"},c={for:"exampleInputPassword1",class:"form-label"},d={type:"submit",class:"btn btn-primary"};function u(e,t,o,u,p,g){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("p",null,(0,a.zw)(u.insert[u.lang].loginPlease),1),(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,r.iM)(((...e)=>u.login&&u.login(...e)),["prevent"])),class:"loginForm"},[(0,n._)("div",i,[(0,n._)("label",s,(0,a.zw)(u.insert[u.lang].login),1),(0,n.wy)((0,n._)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>u.email=e),class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",required:""},null,512),[[r.nr,u.email]])]),(0,n._)("div",l,[(0,n._)("label",c,(0,a.zw)(u.insert[u.lang].password),1),(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>u.password=e),class:"form-control",id:"exampleInputPassword1",required:""},null,512),[[r.nr,u.password]])]),(0,n._)("button",d,(0,a.zw)(u.insert[u.lang].enterButton),1)],32)],64)}var p=o(4143),g={en:{loginPlease:"Access is denied. Sign In, please",login:"Login (email)",password:"Password",enterButton:"Sign In"},uk:{loginPlease:"Доступ ограничен. Авторизуйтесь.",login:"Логин (email)",password:"Пароль",enterButton:"Войти"}},f=o(2276),m={data(){return{name:"LoginForm"}},methods:{},setup(){const{email:e,password:t,login:o}=(0,p.Z)(),{lang:n}=(0,f.Z)("LoginForm");return{email:e,password:t,login:o,lang:n,insert:g}}},h=o(89);const v=(0,h.Z)(m,[["render",u]]);var y=v}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,r){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],r=e[d][2];for(var s=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(o.O).every((function(e){return o.O[e](n[l])}))?n.splice(l--,1):(s=!1,r<i&&(i=r));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,a,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+e+"."+{240:"b41f5293",281:"5b094611",330:"cd2f1f73",670:"d3a66c2a",712:"cc815de7",774:"2dd0f972"}[e]+".js"}}(),function(){o.miniCssF=function(e){return"css/"+e+"."+{240:"55064385",670:"ea2b0a77",774:"55064385"}[e]+".css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue-catalog:";o.l=function(n,a,r,i){if(e[n])e[n].push(a);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+r),s.src=n),e[n]=[a];var p=function(t,o){s.onerror=s.onload=null,clearTimeout(g);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(o)})),t)return t(o)},g=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/vue-catalog/"}(),function(){var e=function(e,t,o,n){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var r=function(r){if(a.onerror=a.onload=null,"load"===r.type)o();else{var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=s,a.parentNode.removeChild(a),n(l)}};return a.onerror=a.onload=r,a.href=t,document.head.appendChild(a),a},t=function(e,t){for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var a=o[n],r=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===e||r===t))return a}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){a=i[n],r=a.getAttribute("data-href");if(r===e||r===t)return a}},n=function(n){return new Promise((function(a,r){var i=o.miniCssF(n),s=o.p+i;if(t(i,s))return a();e(n,s,a,r)}))},a={143:0};o.f.miniCss=function(e,t){var o={240:1,670:1,774:1};a[e]?t.push(a[e]):0!==a[e]&&o[e]&&t.push(a[e]=n(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}(),function(){var e={143:0};o.f.j=function(t,n){var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var r=new Promise((function(o,n){a=e[t]=[o,n]}));n.push(a[2]=r);var i=o.p+o.u(t),s=new Error,l=function(n){if(o.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,a[1](s)}};o.l(i,l,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,i=n[0],s=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(l)var d=l(o)}for(t&&t(n);c<i.length;c++)r=i[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},n=self["webpackChunkvue_catalog"]=self["webpackChunkvue_catalog"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(5714)}));n=o.O(n)})();
//# sourceMappingURL=app.4c678514.js.map