{"version":3,"file":"js/721.730cb84d.js","mappings":"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","sources":["webpack://vue-catalog/./src/views/ProdInfoView.vue","webpack://vue-catalog/./src/components/ProdInfo.vue","webpack://vue-catalog/./src/components/UI/MyModal.vue","webpack://vue-catalog/./src/components/UI/MyModal.vue?a8ea","webpack://vue-catalog/./src/data/languages/ProdInfoViewData.js","webpack://vue-catalog/./src/data/languages/notifications/ProdInfoData.js","webpack://vue-catalog/./src/components/ProdInfo.vue?109b","webpack://vue-catalog/./src/views/ProdInfoView.vue?d41a"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"!$store.state.isAuth\">\n      <login-form/>\n    </div>\n    <div v-else>\n      <prod-info/>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport LoginForm from '@/components/LoginForm'\nimport ProdInfo from '@/components/ProdInfo'\n\nexport default {\n  components: {\n    LoginForm, ProdInfo,\n  },\n}\n</script>\n\n<style>\n\n</style>\n  ","<template>\r\n        <!-- visible={delModal}\r\n        modalColors=\"modalOrange\"\r\n        header=\"Удаление\"\r\n        pic='alert'\r\n        message={modalProdName}\r\n        btn1Text=\"Да\"\r\n        btn2Text=\"Нет\"\r\n        сonfirmed={deleteProduct}\r\n        hide={hideModal} -->\r\n    <!-- v-model:show=\"delModal\" -->\r\n    <my-modal\r\n        v-model:visible=\"delModalVisible\"\r\n        :header=\"insert[lang].myModal.header\"\r\n        :message=\"modalText\"\r\n        :btn1Text=\"insert[lang].myModal.btn1Text\"\r\n        :btn2Text=\"insert[lang].myModal.btn2Text\"\r\n        @confirmed=\"deleteProduct\"\r\n        \r\n        modalColors=\"modalOrange\"\r\n        pic='alert'\r\n    />\r\n\r\n\r\n    <div v-if=\"$store.state.isProdsLoading\">Идет загрузка...</div>\r\n    <div v-else>\r\n        <div v-if=\"!item.id\">\r\n            ID: <b>{{ $route.params.id }}</b><br>\r\n            <div v-html=\"insert[lang].empty\"></div>\r\n        </div>\r\n        <div v-else>\r\n        <!-- <div v-if=\"item.id > 0\"> -->\r\n        <!-- <div v-if=\"item.id\"> -->\r\n            <button class=\"btn btn-success mr-6 min-80\"\r\n                @click.stop=\"$router.push('/edit/'+item.id)\"\r\n                >{{ insert[lang].editBtn }}</button>\r\n            <button class=\"btn btn-warning min-80\"\r\n                @click.stop=\"confirmDelete(item.id, item.model)\"\r\n                >{{ insert[lang].deleteBtn }}</button>\r\n            <hr>\r\n            <h1>{{ item.brand }}</h1>\r\n            <h2>{{ item.model }}</h2>\r\n            <p>{{ insert[lang].price }}: {{ item.price }} USD</p>\r\n\r\n            <div v-if=\"item.pictures\">\r\n                <div v-for=\"(pic, index) in item.pictures\" :key=\"pic\">\r\n                    <img v-if=\"index === 0\"\r\n                        :src=\" define.pathToUploads + '/' + pic \" class=\"img-fluid\" alt=\"\">\r\n                </div>\r\n            </div>\r\n            <img v-else \r\n                :src=\" define.pathToGraphics + '/default2_190px.png' \" alt=\"\">\r\n        \r\n            <!-- <img v-if=\"item.pictures[0]\"\r\n                :src=\" define.pathToUploads + '/' + item.pictures[0] \" class=\"img-fluid\" alt=\"\">\r\n            <img v-else\r\n                :src=\" define.pathToGraphics + '/default2_190px.png' \" alt=\"\"> -->\r\n        </div>\r\n        <!-- <div v-else>\r\n            ID: <b>{{ $route.params.id }}</b><br>\r\n            <div v-html=\"insert[lang].empty\"></div>\r\n        </div> -->\r\n    </div>\r\n        <!-- <div v-if=\"item.pictures\">\r\n            <div v-for=\"(value, index) in item.pictures\"\r\n                :key=\"value\"\r\n            >\r\n            <img v-if=\"index === 0\"\r\n                :src=\" define.pathToUploads + '/' + value \" class=\"img-fluid\" alt=\"\">\r\n            </div>\r\n        </div>\r\n        <img v-else \r\n            :src=\" define.pathToGraphics + '/default2_190px.png' \"\r\n            alt=\"\">\r\n        </div>\r\n        <div v-else>\r\n            ID: {{ $route.params.id }}<br>\r\n            <div v-html=\"insert[lang].empty\"></div>\r\n        </div> -->\r\n</template>\r\n\r\n<script>\r\nimport { define } from '@/data/globals.js'\r\nimport useAuth from '@/hooks/useAuth'\r\nimport MyModal from '@/components/UI/MyModal'\r\nimport axios from 'axios'\r\nimport useProducts from '@/hooks/useProducts'\r\nimport insert from '@/data/languages/ProdInfoViewData.js'\r\nimport useNotify from '@/hooks/useNotify'\r\nimport notifys from '@/data/languages/notifications/ProdInfoData'\r\nimport useLang from '@/hooks/useLang'\r\n\r\nexport default {\r\n    components: {\r\n        MyModal,\r\n    },\r\n    // props: {\r\n    //     // item: {\r\n    //     //     type: Object,\r\n    //     //     required: true\r\n    //     // },\r\n    // },\r\n    data() {\r\n        return {\r\n            name: 'ProdInfo',\r\n            // languages: languages,\r\n            // insert: languages.en,\r\n\r\n            item: '',\r\n            idToDelete: 0,\r\n            modalText: '',\r\n            delModalVisible: false,\r\n        }\r\n    },\r\n    // emits: [\"create\"],\r\n    methods: {\r\n        getItem() {\r\n        // const filteredArr = this.$store.state.updProd.pictures.filter(item => item !== filename)\r\n        // const {id, name, description} = this.products.find(item => item.id === this.$store.state.updProd.id)\r\n        // console.log('1) this.item: ', this.item);\r\n        // console.log('this.$route.params.id: ', this.$route.params.id);\r\n        this.item = this.$store.state.products.find(item2 => item2.id == this.$route.params.id)\r\n\r\n        \r\n        // console.log('this.$store.state.products: ', this.$store.state.products);\r\n        // console.log('2) this.item: ', this.item);\r\n        // console.log('this.$route.params.id: ', this.$route.params.id);\r\n        },\r\n\r\n        confirmDelete(id, name){\r\n            // console.log('store products.pictures: ', this.$store.state.products[0].pictures[0]);\r\n\r\n            this.idToDelete = id\r\n            this.modalText = this.insert[this.lang].myModal.question + ' <b>' + name + '</b>?' // Удалить <b>...</b> ?\r\n            this.delModalVisible = true\r\n            console.log('-> confirmDelete() id:' + id)\r\n        },\r\n\r\n        // deleteProduct() {\r\n        async deleteProduct() {\r\n            console.log('\\n\\n@click ~~~~~~~~~~ deleteProduct ~~~~~~~~~~ ')\r\n            // console.log('Создание товара. Перекрыть экран (\"заблокировать интерфейс\") и показать спинер.\\nОтправить запрос на бэк');\r\n\r\n            const customAxios = axios.create({ // baseURL: 'http://yourcoolapi.com/api',\r\n                withCredentials: true, \r\n            })\r\n\r\n            customAxios.interceptors.request.use(\r\n                config => {\r\n                    console.log('>>>> customAxios - request (config)')\r\n\r\n                    let localToken = localStorage.getItem('AccessToken')\r\n                    if(localToken) localToken = encodeURI(localToken)\r\n                    // Для информации:\r\n                    // encodeURI заменяет киррилические и другие символы на соответствующими им UTF-8 escape-последовательности. Незаменяемые символы: латинский алфавит, десятичные цифры, - _ . ! ~ * ' ( ) #\r\n                    config.headers.Authorization = 'Bearer ' + localToken\r\n                    return config\r\n                }\r\n            )\r\n\r\n            customAxios.interceptors.response.use(\r\n                config => {\r\n                    console.log('>>>> customAxios - response (config)')\r\n                    return config;\r\n                },\r\n                async error => {\r\n                    console.log('>>>> customAxios - response (error)')\r\n                    const originalRequest = error.config\r\n                    if (error.response.status == 401 &&\r\n                        error.config &&\r\n                        !error.config._isRetry\r\n                    ) {\r\n                        originalRequest._isRetry = true\r\n                        console.log('> 401 !!!!!!!!!!!: ')\r\n                        \r\n                        // try {\r\n                        //     // await this.tokenRefresh()\r\n                        //     const response = await axios.post( define.pathToAPI + \"/access/refresh_token.php\", \r\n                        //         JSON.stringify({\r\n                        //             message: 'Привет сервер! С этим сообщением ты сможешь прочитать cookie',\r\n                        //         }),\r\n                        //         {\r\n                        //             withCredentials: true, \r\n                        //             headers: {\r\n                        //                 // Authorization: 'Bearer ' + encodeURI(localStorage.getItem('AccessToken')),\r\n                        //                 Accept: 'application/json',\r\n                        //                 'Content-Type': 'application/json',\r\n                        //             }\r\n                        //         }\r\n                        //     ) // axios\r\n                        //     console.log(' > try ')\r\n\r\n                        //     localStorage.setItem('AccessToken', response.data.accessToken)\r\n                        //     // customAxios.defaults.headers.common['Authorization'] = 'Bearer ' + response.data.accessToken\r\n                        //     // axios.defaults.headers.common['Authorization'] = 'Bearer ' + response.data.accessToken\r\n                        //     // this.$store.commit('SetIsAuth', true)\r\n                        //     // await this.tokenRefresh()\r\n\r\n                        //     console.log(' > try continued ')\r\n                        //     return customAxios.request(originalRequest) \r\n                        // } catch(e) {\r\n                        //     console.log(' > catch ')\r\n                        //     console.log('НЕ АВТОРИЗОВАН')\r\n                        // }\r\n\r\n                        if(await this.tokenRefresh()) {\r\n                            console.log(' tokenRefresh TRUE!')\r\n                            return customAxios.request(originalRequest)\r\n                        }\r\n                        // else {\r\n                        //     console.log(' tokenRefresh FALSE! ')\r\n                        //     console.log('НЕ АВТОРИЗОВАН')\r\n                        // } // if\r\n\r\n                    }\r\n                    throw error; // прокидывает ошибки (как бы на верхний уровень), которые вернула функция tokenRefresh()\r\n                } // async error\r\n            ) // customAxios.interceptors.response\r\n                \r\n            try {\r\n                const response = await customAxios.post( define.pathToAPI + '/products/delete.php',\r\n                // const { data } = await customAxios.post( define.pathToAPI + '/products/create.php',\r\n                // const response = await axios.post( define.pathToAPI + '/products/create.php',\r\n                    JSON.stringify({\r\n                        // id: this.$store.state.newProd.id,\r\n                        id: this.idToDelete\r\n                    }),\r\n                    {\r\n                        // withCredentials: true, // определяет, должны ли создаваться кросс-доменные Access-Control запросы с использованием таких идентификационных данных как cookie, авторизационные заголовки или TLS сертификаты. Если здесь установили true, то на стороне бека нужно установить header(\"Access-Control-Allow-Credentials: true\")\r\n                        headers: {\r\n                            // Authorization: 'Bearer YOUR_JWT_TOKEN_HERE',\r\n                            Accept: 'application/json',\r\n                            'Content-Type': 'application/json',\r\n                        }\r\n                    }\r\n                )\r\n\r\n                // console.log('response: ', response);\r\n                // console.log('data: ', data);\r\n                console.log('[3] response: ', response)\r\n                // console.log('response.data: ', response.data);\r\n                // console.log('response.data.status: ', response.data.status);\r\n\r\n                // обработка ответа\r\n                if(response.data.status === 'success') {\r\n                    // console.log('[Получили ответ \"ОК, CREATED\" -> \\nФиксируем изменения во VUE/Пушим зеленое уведомление]')\r\n            // this.deleteData(this.idToDelete)\r\n\r\n                    console.log('deleteData() id:' + this.idToDelete)\r\n                    // Удаление объекта (по id) из массива products\r\n            // const filteredArr = this.$store.state.updProd.pictures.filter(item => item !== filename)\r\n            // this.item = this.$store.state.products.find(item2 => item2.id == this.$route.params.id)\r\n                    const filteredArr = this.$store.state.products.filter(value => value.id !== this.idToDelete);\r\n                    // this.products = this.products.filter(value => value.id !== this.$store.state.idToDelete);\r\n                    this.$store.commit('SetProducts', filteredArr)\r\n                    // Удаление выполнено\r\n                    this.pushNotify( notifys[this.lang].deleted, \"notifyOrange\")\r\n// ################################################################\r\n// Проверить:\r\n// Нужно, чтобы удалялись и те картинки которые загружены в updateform\r\n// ################################################################\r\n                    this.delModalVisible = false\r\n                    this.$router.push('/')\r\n\r\n                } else {\r\n                    // Ошибка. Ответ сервера: ...<br>Подробности в консоли\r\n                    this.pushNotify( notifys[this.lang].text5_1 + response.data.error + notifys[this.lang].text5_2, 'notifyOrange')\r\n                    console.log('Ошибка:' + response)\r\n                }\r\n\r\n            } catch (e) {\r\n                console.log('e: ', e);\r\n                \r\n                if(e.code === 'ERR_NETWORK') {\r\n                    // Нет подключения к серверу\r\n                    this.pushNotify( notifys[this.lang].errNetwork, 'notifyOrange')\r\n                    console.log('Нет подключения к серверу')\r\n                    return\r\n                }\r\n\r\n// Обработку ошибок желательно еще проверить\r\n// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n                // Обработка ошибок, которые вернула функция tokenRefresh()\r\n                // (из customAxios.interceptors.response)\r\n                // throw error прокидывает ошибки (как бы на верхний уровень)\r\n                switch(e.response.data.status) {\r\n                    case 'expired':\r\n                        console.log(' expired [E1] (BOTH TOKENS IS EXPIRED) ');\r\n                        // this.tokenRefresh()\r\n                        break\r\n                    case 'failed':\r\n                        console.log(' failed [E2]');\r\n                        // this.pushNotify('Alarm! Передан некорректный токен.<br>Доступ закрыт', 'notifyRed')\r\n                        break\r\n                    case 'denied':\r\n                        console.log(' denied [E3]');\r\n                        // this.pushNotify('Alarm! Передан пустой токен.<br>Доступ закрыт', 'notifyRed')\r\n                        break\r\n                    case 'approved':\r\n                        console.log(' approved [E4] ');\r\n                        // this.pushNotify('Alarm! Передан пустой токен.<br>Доступ закрыт', 'notifyRed')\r\n                        break\r\n                    case 'locked':\r\n                        console.log(' locked [E5] ');\r\n                        // this.pushNotify('Alarm! Передан пустой токен.<br>Доступ закрыт', 'notifyRed')\r\n                        break\r\n                    default:\r\n                        // this.pushNotify('Ошибка. Подробности в консоли', 'notifyOrange')\r\n                        // console.log(e)\r\n                        console.log('error [E6]: ' + e)\r\n                        break\r\n                } // switch\r\n// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n            } // try\r\n        }, // deleteProduct\r\n\r\n    },// methods\r\n\r\n    mounted() {\r\n        // this.getItem()\r\n        this.getUpdProd(this.$route.params.id)\r\n        this.item = this.$store.state.updProd\r\n    },\r\n\r\n    watch: {\r\n        // '$store.state.products': function() {\r\n        //     console.log('[ProdInfo] -> locale changes detected - getItem()')\r\n            \r\n        //     this.getItem()\r\n        // },\r\n        '$store.state.language': function() {\r\n            console.log('[ProdInfo] -> language changes detected ')\r\n            this.getUpdProd(this.$route.params.id)\r\n            this.item = this.$store.state.updProd\r\n        },\r\n    },// watch\r\n\r\n    // Composition API\r\n    setup() {\r\n        const { tokenRefresh } = useAuth()\r\n        const { lang } = useLang()\r\n        const { pushNotify } = useNotify()\r\n        const { deleteData, getUpdProd } = useProducts()\r\n\r\n        // return { define, tokenRefresh, pushNotify, deleteData }\r\n        return { define, tokenRefresh, lang, insert, pushNotify, deleteData, getUpdProd }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.mw-1280 {\r\n    max-width: 1280px;\r\n}\r\n.mw-1024 {\r\n    max-width: 1024px;\r\n}\r\n.mw-900 {\r\n    max-width: 900px;\r\n}\r\n\r\n.img-fluid {\r\n    max-width: 100%;\r\n    height: auto;\r\n}\r\n\r\n</style>","<template>\r\n  <transition name=\"fade\">\r\n    <div class=\"dialog-bg\" v-if=\"visible\"></div>\r\n  </transition>\r\n  <transition name=\"slide-fade\">\r\n    <div class=\"dialog-wrapper\" @click=\"hideModal\" v-if=\"visible\">\r\n      <div @click.stop class=\"dialog__content\" v-if=\"visible\">\r\n        <div :class=\"['header', modalColors ]\" >{{ header }}</div>\r\n        <div className='modal_flex'>\r\n          <img v-if=\"picture\" :src=\" define.pathToGraphics + picture \" alt=''>\r\n          <div class=\"message\" v-html=\"message\"></div>\r\n        </div>\r\n        <div class=\"btns\">\r\n          <button :class=\"['btn2', btn1Color ]\" @click=\"confirmClick\" >{{ btn1Text }}</button>\r\n          <button :class=\"['btn2', btn2Color ]\" @click=\"hideModal\" >{{ btn2Text }}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { define } from '@/data/globals.js'\r\n\r\nexport default {\r\n  props: { \r\n    header: { type: String, default: 'Модальное окно' },\r\n    message: { type: String, default: 'Текст модального окна' },\r\n    btn1Text: { type: String, default: 'Ок' },\r\n    btn2Text: { type: String, default: 'Отмена' },\r\n    visible: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    modalColors: { type: String, default: '' },\r\n    pic: { type: String, default: '' },\r\n  },\r\n  data() {\r\n    return {\r\n      picture: '',\r\n      btn1Color: 'blueBtn',\r\n      btn2Color: 'blueBtn',\r\n    }\r\n  },\r\n  emits: ['update:visible', 'confirmed'],\r\n  methods: {\r\n    hideModal() {\r\n        this.$emit('update:visible', false)\r\n    },\r\n    confirmClick() {\r\n        this.$emit('confirmed')\r\n    },\r\n    setModalStyle() {\r\n      switch(this.pic) {\r\n        case 'alert':\r\n          this.picture = '/alert_48px.png'\r\n          this.btn1Color = 'orangeBtn'\r\n          this.btn2Color = 'orangeBtn'\r\n          break\r\n        case 'info':\r\n          this.picture = '/info_48px.png'\r\n          this.btn1Color = 'blueBtn'\r\n          this.btn2Color = 'blueBtn'\r\n          break\r\n        default:\r\n          this.picture = ''\r\n          this.btn1Color = 'greenBtn'\r\n          this.btn2Color = 'greenBtn'\r\n          break\r\n      }// switch\r\n    },\r\n  },\r\n  mounted() {\r\n    this.setModalStyle()\r\n  },\r\n  // Composition API\r\n  setup() {\r\n      return { define }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dialog-bg {\r\n  z-index: 102;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  background: rgba(0, 0, 0, 0.4);\r\n  position: fixed;\r\n}\r\n\r\n.dialog-wrapper {\r\n  z-index: 103;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  position: fixed;\r\n  display: flex;\r\n}\r\n\r\n.dialog__content {\r\n  max-width: 520px;\r\n  /* width: 100%; */\r\n\r\n  margin: 20vh auto auto auto;\r\n  background: white;\r\n  border-radius: 10px;\r\n  box-shadow: 2px 2px 20px  #555555;\r\n}\r\n\r\n@media (min-width: 360px) {\r\n  .dialog__content {\r\n    min-width: 360px;\r\n  }\r\n}\r\n\r\n.modalBlue {\r\n    border-top: 5px solid #00a6f3;\r\n}\r\n.modalOrange {\r\n    border-top: 5px solid orange;\r\n}\r\n\r\n.header {\r\n  padding: 6px 12px;\r\n  background: #e4e4e4;\r\n  border-radius: 10px 10px 0 0;\r\n  /* font-weight: bold; */\r\n}\r\n\r\n.modal_flex {\r\n    display: flex;\r\n    align-items: center;\r\n    min-height: 90px;\r\n}\r\n\r\n.modal_flex img {\r\n    margin-left: 20px;\r\n}\r\n\r\n.message {\r\n  padding: 20px;\r\n  font-size: 1.3rem;\r\n}\r\n\r\n.btns {\r\n  padding: 11px 0 0 15px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  background: #e4e4e4;\r\n  border-radius: 0 0 10px 10px;\r\n}\r\n\r\nbutton {\r\n  margin-right: 15px;\r\n  margin-bottom: 11px;\r\n}\r\n\r\n.fade-enter-active, .fade-leave-active { transition: opacity .2s ease; }\r\n\r\n.fade-enter-from, .fade-leave-to { opacity: 0; }\r\n\r\n\r\n.slide-fade-enter-active { transition: all .2s ease-out; }\r\n\r\n.slide-fade-leave-active { transition: all .2s cubic-bezier(1, 0.5, 0.8, 1); }\r\n\r\n.slide-fade-enter-from {\r\n  transform: translateY(-40px);\r\n  opacity: 0;\r\n}\r\n.slide-fade-leave-to {\r\n  transform: translateY(40px);\r\n  opacity: 0;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</style>","import { render } from \"./MyModal.vue?vue&type=template&id=ccafba5c&scoped=true\"\nimport script from \"./MyModal.vue?vue&type=script&lang=js\"\nexport * from \"./MyModal.vue?vue&type=script&lang=js\"\n\nimport \"./MyModal.vue?vue&type=style&index=0&id=ccafba5c&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\OpenServer\\\\domains\\\\vue\\\\vue-catalog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ccafba5c\"]])\n\nexport default __exports__","export default {\r\n    en: {\r\n        myModal: {\r\n            header: 'Deleting',\r\n            btn1Text: \"Yes\",\r\n            btn2Text: \"No\",\r\n            question: 'Delete ',\r\n        },\r\n        editBtn: \"Edit\",\r\n        deleteBtn: \"Delete\",\r\n        price: 'Price',\r\n        empty: 'Not found<br>Or no description in English<br>Try change language',\r\n    },\r\n    uk: {\r\n        myModal: {\r\n            header: 'Удаление',\r\n            btn1Text: \"Да\",\r\n            btn2Text: \"Нет\",\r\n            question: 'Удалить ',\r\n        },\r\n        editBtn: \"Редактировать\",\r\n        deleteBtn: \"Удалить\",\r\n        price: 'Цена',\r\n        empty: 'Не найдено<br>Или отсутствует описание на украинском<br>Попробуйте сменить язык',\r\n\r\n    },\r\n}\r\n","export default {\r\n    en: {\r\n        errNetwork: 'English version of Notification<br>Нет подключения к серверу',\r\n\r\n        deleted: 'English version of Notification<br>Удаление выполнено',\r\n        text5_1: 'English version of Notification<br>Ошибка. Ответ сервера: ',\r\n        text5_2: '<br>Подробности в консоли',\r\n    },\r\n    uk: {\r\n        errNetwork: 'Нет подключения к серверу',\r\n\r\n        deleted: 'Удаление выполнено',\r\n        text5_1: 'Ошибка. Ответ сервера: ',\r\n        text5_2: '<br>Подробности в консоли',\r\n    },\r\n}\r\n","import { render } from \"./ProdInfo.vue?vue&type=template&id=75ab4ffa\"\nimport script from \"./ProdInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ProdInfo.vue?vue&type=script&lang=js\"\n\nimport \"./ProdInfo.vue?vue&type=style&index=0&id=75ab4ffa&lang=css\"\n\nimport exportComponent from \"E:\\\\OpenServer\\\\domains\\\\vue\\\\vue-catalog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProdInfoView.vue?vue&type=template&id=1b84dcfa\"\nimport script from \"./ProdInfoView.vue?vue&type=script&lang=js\"\nexport * from \"./ProdInfoView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\OpenServer\\\\domains\\\\vue\\\\vue-catalog\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","_ctx","state","isAuth","_hoisted_2","_createVNode","_component_prod_info","_hoisted_1","_component_login_form","_createElementVNode","_component_my_modal","visible","$data","$event","header","$setup","myModal","message","btn1Text","btn2Text","onConfirmed","$options","modalColors","pic","isProdsLoading","id","_hoisted_7","class","onClick","push","editBtn","model","deleteBtn","_hoisted_8","_toDisplayString","brand","price","pictures","_hoisted_9","_Fragment","_renderList","index","key","src","pathToUploads","alt","pathToGraphics","_hoisted_3","params","_hoisted_5","innerHTML","empty","className","_Transition","name","$props","props","type","String","default","Boolean","data","picture","btn1Color","btn2Color","emits","methods","hideModal","this","$emit","confirmClick","setModalStyle","mounted","setup","define","__exports__","en","question","uk","errNetwork","deleted","text5_1","text5_2","components","MyModal","item","idToDelete","modalText","delModalVisible","getItem","$store","products","find","item2","$route","confirmDelete","insert","lang","console","log","async","customAxios","axios","withCredentials","interceptors","request","use","config","localToken","localStorage","encodeURI","headers","Authorization","response","originalRequest","error","status","_isRetry","tokenRefresh","post","JSON","stringify","Accept","filteredArr","filter","value","commit","pushNotify","notifys","$router","e","code","getUpdProd","updProd","watch","useAuth","useLang","useNotify","deleteData","useProducts","LoginForm","ProdInfo","render"],"sourceRoot":""}